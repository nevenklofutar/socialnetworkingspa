<mat-card class="mat-card">
    <mat-card-content>
        <div style="display: flex;">
            <div style="width: 97%;">
                <div class="post-content">({{ post.id }}) {{ post.body }}</div>
            </div>
            <div style="width: 3%;">
                <div class="post-content">
                    <a [matMenuTriggerFor]="menu" *ngIf="showDeleteButton()">
                        <mat-icon
                            class="material-icons"
                            style="cursor: pointer;"
                            >more_vert</mat-icon
                        >
                    </a>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item (click)="openDialogEdit(post)">
                            <span>Edit</span>
                        </button>
                        <button
                            mat-menu-item
                            (click)="openDialogDelete(post.id)"
                        >
                            <span>Delete</span>
                        </button>
                    </mat-menu>
                </div>
            </div>
        </div>

        <div class="post-comments-divider">
            <mat-divider></mat-divider>
        </div>

        <div
            class="post-actions"
            style="display: flex; text-align: center; margin-top: -9px;"
        >
            <div style="width: 190px; float: left;">
                <button
                    type="button"
                    mat-raised-button
                    (click)="toggleLike(post.id)"
                    [disabled]="disabled"
                    [class.spinner]="disabled"
                    style="width: 190px;"
                >
                    {{ likeButtonName }}
                </button>
            </div>
            <div
                style="
                    width: 190px;
                    height: auto;
                    text-align: center;
                    margin: auto;
                "
            >
                Likes: {{ this.post.likes.likesCount }}
            </div>

            <!-- <div style="width: 190px; float: right;">
                <button
                    mat-raised-button
                    (click)="deletePost(post.id)"
                    *ngIf="showDeleteButton()"
                    [disabled]="disabled"
                    [class.spinner]="disabled"
                    style="width: 190px; align-content: end;"
                >
                    Delete
                </button>
            </div> -->
        </div>

        <div class="post-comments-divider">
            <mat-divider></mat-divider>
        </div>
        Comments
        <div *ngFor="let comment of post.comments" class="comment-view">
            <span class="comment-view-commenter-name">{{
                comment.commentedByName
            }}</span>
            <span class="comment-view-content">{{ comment.content }}</span>
        </div>

        <form [formGroup]="newCommentForm" (keydown)="createComment($event)">
            <mat-form-field
                appearance="outline"
                color="primary"
                class="comment-input"
            >
                <input
                    matInput
                    formControlName="newComment"
                    maxlength="255"
                    cdkTextareaAutosize
                    placeholder="write comment..."
                />
            </mat-form-field>
        </form>
    </mat-card-content>
</mat-card>
